<!DOCTYPE html>
<html lang="en-us">
	<head>
		<title>TEST</title>
		<link href="css/main.css" rel="stylesheet">
	</head>

	<body>
    <link rel="stylesheet" type="text/css" href="http://ws1.postescanada-canadapost.ca/css/addresscomplete-2.30.min.css" /><script type="text/javascript" src="http://ws1.postescanada-canadapost.ca/js/addresscomplete-2.30.min.js"></script>

    <!-- Changing text search text color/font/size -->
    <!-- <style type="text/css">
      .pca .pcatext {
          font: 15px Verdana;
          color: #4682b4;
      }
    </style> -->

    <script type="text/javascript">
      var fields = [
        { element: "street-address", field: "Line1" },
        { element: "street-address2", field: "Line2", mode: pca.fieldMode.POPULATE },
        { element: "city", field: "City", mode: pca.fieldMode.POPULATE },
        { element: "state", field: "ProvinceName", mode: pca.fieldMode.POPULATE },
        { element: "postcode", field: "PostalCode" },
        { element: "country", field: "CountryName", mode: pca.fieldMode.COUNTRY }
      ],
      options = {
        key: "CR83-AB76-UA15-JA93"
      },
      control = new pca.Address(fields, options);



      console.warn('control', control);
      console.warn('pca', pca);
      console.warn('addresscomplete', addressComplete);


      control.listen('ready', function() {
        console.warn('--- ready event ---');
        control.setCountry("France");
      });

      addressComplete.listen('load', function(control) {  // load event does NOT WORK
        console.warn('--- load event ---');
       });


	    control.listen('options', function(options) {    // options event NOT WORKING
          console.warn('--- options event ---');

          console.warn(options);
	        options.bar = options.bar || {};
	        options.bar.showCountry = false;
	        options.bar.showLogo = true;
	        options.bar.logoLink = false;
	    });


      control.listen('ready', function () {
        control.setWidth(300);
        control.setHeight(300);
        control.setCountry("France");
        console.warn(control);
      });

      control.listen('populate', function (address) {
          console.warn('address: ', address);
      });
    </script>

    <div class="input-line">
    	<label for="street-address">Address</label>
    	<input id="street-address" type="text" placeholder="Street address" autofocus />
    </div>
    <div class="input-line">
    	<label for="street-address2"></label>
    	<input id="street-address2" type="text" placeholder="" />
    </div>
    <div class="input-line">
    	<label for="city"></label>
    	<input id="city" type="text" placeholder="City" />
    </div>
    <div class="input-line">
    	<label for="state"></label>
    	<input id="state" type="text" placeholder="State/Province" />
    </div>
    <div class="input-line">
    	<label for="postcode"></label>
    	<input id="postcode" type="text" placeholder="Zip/Postcode" />
    </div>
    <div class="input-line">
    	<label for="country"></label>
    	<input id="country" type="text" placeholder="Country" />
    </div>
	</body>
</html>
